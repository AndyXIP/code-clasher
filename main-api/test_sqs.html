<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Auto POST with JSON</title>
</head>
<body>
  <script>
    // Data to be sent
    const payload = {
      code: "print('Hello, world!')",
      problem_id: "problem123",
      language: "python"
    };

    // Send POST request using fetch API
    fetch('http://localhost:8080/submit-code', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify(payload)
    })
    .then(response => response.text())
    .then(data => {
      // Display response on the page
      document.body.innerHTML = "<h1>Response:</h1><pre>" + data + "</pre>";
    })
    .catch(error => {
      document.body.innerHTML = "<h1>Error:</h1><pre>" + error + "</pre>";
    });
  </script>
</body>
</html>
